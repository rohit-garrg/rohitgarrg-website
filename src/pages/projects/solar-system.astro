---
import BaseLayout from '../../layouts/BaseLayout.astro';
---

<BaseLayout title="Solar System Explorer | Rohit Garg" description="An interactive 3D solar system for kids to explore. Touch, zoom, and discover all the planets and moons." ogImage="/images/projects/solar-system-og.webp">
  <article class="project-page">
    <h1>Solar System Explorer</h1>
    <p class="subtitle">An interactive 3D solar system that kids can touch, explore, and learn from.</p>

    <div class="explorer-wrapper" id="explorer-wrapper">
      <iframe
        id="solar-frame"
        src="https://solar-system-explorer-liart.vercel.app"
        width="100%"
        height="600"
        style="border: none; display: block; min-height: 500px; border-radius: 8px;"
        allow="autoplay"
        allowfullscreen
      ></iframe>
      <button class="fullscreen-btn" id="fullscreen-btn" title="Fullscreen">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M8 3H5a2 2 0 0 0-2 2v3"/>
          <path d="M21 8V5a2 2 0 0 0-2-2h-3"/>
          <path d="M16 21h3a2 2 0 0 0 2-2v-3"/>
          <path d="M3 16v3a2 2 0 0 0 2 2h3"/>
        </svg>
      </button>
    </div>

    <div class="project-details">
      <h2>About</h2>
      <p>Solar System Explorer is a 3D interactive experience built for kids ages 4-8. Drag to orbit, pinch to zoom, and tap any planet or moon to discover fun facts. A time slider lets you speed up or slow down the orbits, and a spacecraft mode lets you fly between worlds.</p>
      <p>All 9 planets, 12 named moons, an asteroid belt, and 2 comets are explorable â€” 22 celestial bodies in total. A discovery tracker keeps count of how many you've visited.</p>

      <h2>Features</h2>
      <ul>
        <li>Touch-friendly 3D controls (drag, pinch zoom, tap to select)</li>
        <li>Age-appropriate fact cards for every planet and moon</li>
        <li>Adjustable time speed (0.1x to 20x)</li>
        <li>Spacecraft fly-between-planets mode</li>
        <li>Ambient space audio and per-planet sounds</li>
        <li>Discovery tracker (22 worlds to explore)</li>
        <li>Size comparison mode</li>
      </ul>

      <h2>Built With</h2>
      <p>React, Three.js (React Three Fiber), Zustand, Tailwind CSS, Vite.</p>
      <p class="credit">Built with AI as a portfolio experiment.</p>
    </div>
  </article>

  <style>
    .project-page { max-width: 1040px; margin: 0 auto; padding: 2rem 1rem; }
    .subtitle { font-size: 1.1rem; opacity: 0.7; margin-bottom: 2rem; }
    .explorer-wrapper {
      position: relative;
      width: 100%;
      margin: 2rem auto;
      background: #0a0a1a;
      border-radius: 8px;
      overflow: hidden;
    }
    .explorer-wrapper iframe {
      width: 100%;
      height: 600px;
      min-height: 500px;
    }
    .project-details { max-width: 720px; margin: 2rem auto; }
    .project-details ul {
      padding-left: 1.5rem;
      line-height: 1.8;
    }
    .fullscreen-btn {
      position: absolute; bottom: 10px; right: 10px; z-index: 5;
      background: rgba(0, 0, 0, 0.6); border: none; color: white;
      padding: 8px; border-radius: 6px; cursor: pointer;
      opacity: 0; transition: opacity 0.2s;
      display: flex; align-items: center; justify-content: center;
    }
    .explorer-wrapper:hover .fullscreen-btn,
    .fullscreen-btn:focus-visible { opacity: 1; }
    .fullscreen-btn:hover { background: rgba(0, 0, 0, 0.85); }
    .explorer-wrapper:fullscreen, .explorer-wrapper:-webkit-full-screen { width: 100vw; height: 100vh; border-radius: 0; }
    .explorer-wrapper:fullscreen iframe, .explorer-wrapper:-webkit-full-screen iframe { width: 100%; height: 100%; }
    .explorer-wrapper.fake-fullscreen {
      position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
      z-index: 9999; border-radius: 0;
    }
    .explorer-wrapper.fake-fullscreen iframe { width: 100%; height: 100%; }
    .explorer-wrapper.fake-fullscreen .fullscreen-btn { opacity: 1; }
    .credit { margin-top: 2rem; font-style: italic; opacity: 0.7; }
    @media (max-width: 768px) {
      .explorer-wrapper iframe {
        height: 400px;
        min-height: 400px;
      }
    }
  </style>

  <script>
    const wrapper = document.getElementById('explorer-wrapper');
    const iframe = document.getElementById('solar-frame');
    const fsBtn = document.getElementById('fullscreen-btn');

    function isFullscreen() {
      return !!(document.fullscreenElement || document.webkitFullscreenElement);
    }

    function enterFullscreen() {
      if (wrapper.requestFullscreen) {
        wrapper.requestFullscreen().then(() => iframe.focus()).catch(() => fakeFull());
      } else if (wrapper.webkitRequestFullscreen) {
        wrapper.webkitRequestFullscreen();
        iframe.focus();
      } else {
        fakeFull();
      }
    }

    function exitFullscreen() {
      if (document.exitFullscreen) {
        document.exitFullscreen();
      } else if (document.webkitExitFullscreen) {
        document.webkitExitFullscreen();
      } else {
        fakeFull();
      }
    }

    function fakeFull() {
      wrapper.classList.toggle('fake-fullscreen');
    }

    fsBtn.addEventListener('click', () => {
      if (wrapper.classList.contains('fake-fullscreen')) {
        wrapper.classList.remove('fake-fullscreen');
      } else if (isFullscreen()) {
        exitFullscreen();
      } else {
        enterFullscreen();
      }
    });

    document.addEventListener('fullscreenchange', () => { if (isFullscreen()) iframe.focus(); });
    document.addEventListener('webkitfullscreenchange', () => { if (isFullscreen()) iframe.focus(); });
  </script>
</BaseLayout>
